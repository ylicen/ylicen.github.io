<!DOCTYPE html>
<html lang="zh-CN" class="theme-ink-breeze">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>墨韵图境 - Ylicen的博客</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #8A2BE2;
      --accent-color: #E53935;
      --bg-color: #f9f7f5;
      --card-bg: rgba(255, 255, 255, 0.8);
      --text-color: #333;
      --border-color: rgba(255, 255, 255, 0.4);
      --shadow-color: rgba(0, 0, 0, 0.1);
      --light-text: #777;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Noto Serif SC', serif;
    }
    
    body {
      background-color: var(--bg-color);
      color: var(--text-color);
      min-height: 100vh;
      padding: 0;
      line-height: 1.6;
    }
    
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path d="M30,10 Q50,0 70,10 Q90,20 90,45 Q90,70 70,85 Q50,100 30,85 Q10,70 10,45 Q10,20 30,10 Z" fill="none" stroke="%23E53935" fill="none" opacity="0.03" stroke-width="2"/></svg>');
      opacity: 0.3;
      pointer-events: none;
      z-index: -1;
    }
    
    .container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 2rem;
      display: block;
    }
    
    .content {
      flex: 1;
      width: 100%;
    }
    
    .page-title {
      font-size: 2.2rem;
      margin-bottom: 1.5rem;
      color: var(--primary-color);
      position: relative;
      display: inline-block;
    }
    
    .page-title::after {
      content: "";
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 60%;
      height: 3px;
      background-color: var(--accent-color);
    }
    
    .subtitle {
      font-size: 1.2rem;
      color: var(--light-text);
      margin-bottom: 2rem;
    }
    
    .glass-card {
      background: var(--card-bg);
      border-radius: 15px;
      padding: 30px;
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
      border: 1px solid var(--border-color);
      box-shadow: 0 10px 30px var(--shadow-color);
      margin-bottom: 30px;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .glass-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
    }
    
    .glass-card h2 {
      font-size: 1.6rem;
      margin-bottom: 20px;
      position: relative;
      display: inline-block;
      padding-bottom: 8px;
    }
    
    .glass-card h2::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      width: 60%;
      height: 2px;
      background-color: var(--accent-color);
    }
    
    .input-group {
      margin-bottom: 20px;
    }
    
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      font-size: 1rem;
    }
    
    textarea, input, select {
      width: 100%;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #ddd;
      background: rgba(255, 255, 255, 0.8);
      font-size: 1rem;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    
    textarea:focus, input:focus, select:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(138, 43, 226, 0.1);
    }
    
    textarea {
      height: 120px;
      resize: vertical;
    }
    
    .row {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 20px;
    }
    
    .col {
      flex: 1;
      min-width: 200px;
    }
    
    .btn {
      background: linear-gradient(135deg, var(--primary-color), #6A1B9A);
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 1.1rem;
      border-radius: 30px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-block;
      box-shadow: 0 5px 15px rgba(106, 27, 154, 0.3);
      width: 100%;
      position: relative;
      overflow: hidden;
    }
    
    .btn::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.7s;
    }
    
    .btn:hover::before {
      left: 100%;
    }
    
    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(106, 27, 154, 0.4);
    }
    
    .btn:active {
      transform: translateY(-1px);
    }
    
    .loading {
      display: none;
      text-align: center;
      padding: 20px;
    }
    
    .spinner {
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top: 4px solid var(--primary-color);
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 0 auto 15px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
    }
    
    .image-card {
      position: relative;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 5px 15px var(--shadow-color);
      background: var(--card-bg);
      height: 280px;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .image-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    }
    
    .image-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: all 0.3s ease;
    }
    
    .download-btn {
      position: absolute;
      bottom: 15px;
      right: 15px;
      background: rgba(255, 255, 255, 0.9);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      opacity: 0;
    }
    
    .image-card:hover .download-btn {
      opacity: 1;
    }
    
    .download-btn:hover {
      background: var(--primary-color);
      color: white;
      transform: scale(1.1);
    }
    
    footer {
      background-color: white;
      text-align: center;
      padding: 2rem 0;
      margin-top: 3rem;
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
    }
    
    footer p {
      color: var(--light-text);
    }
    
    .social-links {
      margin-top: 1rem;
    }
    
    .social-links a {
      color: var(--text-color);
      margin: 0 0.5rem;
    }
    
    .social-links a:hover {
      color: var(--primary-color);
    }
    
    .range-value-display {
      display: inline-block;
      margin-left: 10px;
      min-width: 30px;
      text-align: right;
    }
    
    .info-section {
      margin-top: 2rem;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 12px;
      border-left: 4px solid var(--primary-color);
    }
    
    .info-section h3 {
      font-size: 1.3rem;
      margin-bottom: 1rem;
      color: var(--primary-color);
    }
    
    .info-section p {
      margin-bottom: 1rem;
      line-height: 1.7;
    }
    
    .info-section p:last-child {
      margin-bottom: 0;
    }
    
    @media (max-width: 1024px) {
    }
    
    @media (max-width: 768px) {
      .row {
        flex-direction: column;
      }
      
      .page-title {
        font-size: 1.8rem;
      }
      
      .glass-card {
        padding: 20px;
      }
    }
  </style>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const currentPage = window.location.pathname.split('/').pop() || 'index.html';
      const navLinks = document.querySelectorAll('nav a');
      
      navLinks.forEach(link => {
          const linkPage = link.getAttribute('href');
          if (linkPage === currentPage || (currentPage === '' && linkPage === 'index.html')) {
              link.classList.add('active');
          } else {
              link.classList.remove('active');
          }
      });
    });
  </script>
  <script type="module" crossorigin src="/assets/image-Cgh0fNuT.js"></script>
  <link rel="modulepreload" crossorigin href="/assets/main-Bt9nYmtW.js">
  <link rel="stylesheet" crossorigin href="/assets/main-B60PhlWt.css">
  <link rel="stylesheet" crossorigin href="/assets/image-V7CfK-h3.css">
  <script type="module">import.meta.url;import("_").catch(()=>1);(async function*(){})().next();window.__vite_is_modern_browser=true</script>
  <script type="module">!function(){if(window.__vite_is_modern_browser)return;console.warn("vite: loading legacy chunks, syntax error above and the same error below should be ignored");var e=document.getElementById("vite-legacy-polyfill"),n=document.createElement("script");n.src=e.src,n.onload=function(){System.import(document.getElementById('vite-legacy-entry').getAttribute('data-src'))},document.body.appendChild(n)}();</script>
</head>
<body>
  <div id="navbar-placeholder"></div>
  
  <div class="container mx-auto px-4 py-8">
    <main class="image-container">
      <section class="image-section relative">
        <div class="absolute top-0 right-0 w-32 h-32 bg-purple-100 rounded-full -translate-y-16 translate-x-16 opacity-20"></div>
        <div class="absolute bottom-0 left-0 w-24 h-24 bg-purple-200 rounded-full translate-y-12 -translate-x-12 opacity-30"></div>
        <h2 class="page-title text-2xl md:text-3xl font-bold mb-4 text-purple-800 relative z-10">墨韵图境</h2>
        <p class="intro-text text-gray-600 mb-6">以文生图，探索AI艺术的无限可能，一字一句勾勒意境，墨彩交融写意中国</p>
        
        <div class="image-app-container">
          <div class="prompt-container bg-white rounded-xl shadow-lg p-6 mb-8">
            <h3 class="text-xl font-semibold mb-4 text-purple-700">创作图像</h3>
            <div class="prompt-input-container mb-6">
              <textarea id="prompt-input" placeholder="例：中国传统园林，小桥流水，远山如黛，云雾缭绕，竹林深处一位白衣女子抚琴..." class="w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-300 focus:border-purple-500 outline-none transition"></textarea>
            </div>
            
            <div class="prompt-controls grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
              <div class="model-selection">
                <label class="block mb-2 font-medium">图像模型</label>
                <select id="model-select" title="选择图像模型" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-300 focus:border-purple-500 outline-none transition">
                  <option value="Kwai-Kolors/Kolors">快手Kolors模型</option>
                </select>
              </div>
              
              <div class="image-size">
                <label class="block mb-2 font-medium">图像尺寸</label>
                <select id="image-size" title="选择图像尺寸" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-300 focus:border-purple-500 outline-none transition">
                  <option value="1024x1024">方形 (1024x1024)</option>
                  <option value="960x1280">竖版 (960x1280)</option>
                  <option value="768x1024">竖版小图 (768x1024)</option>
                  <option value="720x1440">长条竖版 (720x1440)</option>
                  <option value="720x1280">手机屏幕 (720x1280)</option>
                </select>
              </div>
              
              <div class="style-selection">
                <label for="batch-size" class="block mb-2 font-medium">生成数量</label>
                <input type="number" id="batch-size" min="1" max="4" value="1" aria-label="生成数量" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-300 focus:border-purple-500 outline-none transition">
              </div>
            </div>
            
            <details class="advanced-options">
              <summary>高级选项</summary>
              <div class="advanced-options-content">
                <div class="slider-container">
                  <label>迭代步数 <span id="steps-value">20</span></label>
                  <input type="range" id="steps" class="slider" min="1" max="100" value="20">
                </div>
                
                <div class="slider-container">
                  <label>提示词引导强度 <span id="guidance-value">7.5</span></label>
                  <input type="range" id="guidance" class="slider" min="0" max="20" step="0.1" value="7.5">
                </div>
                
                <div class="negative-prompt">
                  <label>负面提示词（可选）</label>
                  <input type="text" id="negative-prompt" placeholder="例：模糊, 变形, 低质量, 文字...">
                </div>
                
                <div class="negative-prompt">
                  <label>随机种子（可选）</label>
                  <input type="number" id="seed" placeholder="留空则随机生成">
                </div>
              </div>
            </details>
            
            <button id="generate-btn" class="generate-btn bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-lg transition flex items-center gap-2">
              <i class="fas fa-magic"></i> 开始创作
            </button>
          </div>
          
          <div class="result-container">
            <h3 class="text-xl font-semibold mb-4 text-purple-700">作品展示</h3>
            <div id="image-gallery" class="image-gallery grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
              <div class="placeholder-message flex flex-col items-center justify-center p-8 text-center bg-gray-50 rounded-xl border-2 border-dashed border-gray-300">
                <i class="fas fa-image placeholder-icon text-4xl text-gray-400 mb-4"></i>
                <p class="text-gray-600 mb-2">您的创作将在这里展示</p>
                <p class="text-gray-500">输入描述文字并点击"开始创作"按钮</p>
              </div>
            </div>
            
            <div id="loading-container" class="loading-container">
              <div class="spinner"></div>
              <div class="progress-bar">
                <div id="progress" class="progress"></div>
              </div>
              <p id="progress-text" class="progress-text">生成中...</p>
            </div>
          </div>
        </div>
        
        <div class="tips-section bg-purple-50 rounded-xl p-6 mb-8">
          <h3 class="text-xl font-semibold mb-4 text-purple-700">创作技巧</h3>
          <div class="tips-container grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="tip-card bg-white rounded-lg p-5 shadow-sm">
              <div class="tip-icon text-purple-600 text-2xl mb-3">
                <i class="fas fa-lightbulb"></i>
              </div>
              <div class="tip-content">
                <h4 class="font-semibold mb-2 text-purple-800">具体胜于抽象</h4>
                <p class="text-gray-600">越具体的描述会产生越好的结果。例如，不要只写"一座山"，而是写"薄雾缭绕的青山，山顶覆盖着茂密的松树，山脚下有一条蜿蜒的小溪"。</p>
              </div>
            </div>
            
            <div class="tip-card bg-white rounded-lg p-5 shadow-sm">
              <div class="tip-icon text-purple-600 text-2xl mb-3">
                <i class="fas fa-paint-brush"></i>
              </div>
              <div class="tip-content">
                <h4 class="font-semibold mb-2 text-purple-800">添加风格关键词</h4>
                <p class="text-gray-600">在描述中添加艺术风格可以大幅提升画面效果，比如"水墨画风格"、"油画质感"、"国画意境"、"插画风格"、"赛博朋克"等。</p>
              </div>
            </div>
            
            <div class="tip-card bg-white rounded-lg p-5 shadow-sm">
              <div class="tip-icon text-purple-600 text-2xl mb-3">
                <i class="fas fa-ban"></i>
              </div>
              <div class="tip-content">
                <h4 class="font-semibold mb-2 text-purple-800">使用负面提示词</h4>
                <p class="text-gray-600">负面提示词可以排除不需要的元素，常用的负面提示词包括：模糊、变形、低质量、文字、多余的肢体、不良画质等。</p>
              </div>
            </div>
          </div>
        </div>
        
        <div class="gallery-section">
          <h3 class="text-xl font-semibold mb-4 text-purple-700">社区画廊</h3>
          <div class="community-gallery grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="gallery-item bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition">
              <img src="https://picsum.photos/id/237/800/600" alt="社区作品" class="w-full h-48 object-cover">
              <div class="gallery-item-info p-4">
                <p class="gallery-prompt text-gray-700 mb-3">"清晨的故宫，金色阳光洒落在红墙金瓦上，氤氲雾气中透出庄严古韵"</p>
                <div class="gallery-metadata flex justify-between text-sm text-gray-500">
                  <span>由 Ylicen 创作</span>
                  <span>2天前</span>
                </div>
              </div>
            </div>
            
            <div class="gallery-item bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition">
              <img src="https://picsum.photos/id/23/800/600" alt="社区作品" class="w-full h-48 object-cover">
              <div class="gallery-item-info p-4">
                <p class="gallery-prompt text-gray-700 mb-3">"江南水乡小镇，乌篷船在雨中静静泊岸，烟雨朦胧中几盏红灯笼映照着粉墙黛瓦"</p>
                <div class="gallery-metadata flex justify-between text-sm text-gray-500">
                  <span>由 文心 创作</span>
                  <span>4天前</span>
                </div>
              </div>
            </div>
            
            <div class="gallery-item bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition">
              <img src="https://picsum.photos/id/29/800/600" alt="社区作品" class="w-full h-48 object-cover">
              <div class="gallery-item-info p-4">
                <p class="gallery-prompt text-gray-700 mb-3">"山水意境，青松挂壁，山间云雾缭绕，一位道士临崖而立，俯瞰苍茫大地，水墨画风格"</p>
                <div class="gallery-metadata flex justify-between text-sm text-gray-500">
                  <span>由 墨客 创作</span>
                  <span>1周前</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
  
  <div id="footer-placeholder"></div>
  
  <div id="toast" class="toast">提示信息</div>
  
  <script>
    const promptInput = document.getElementById('prompt-input');
    const negativePromptInput = document.getElementById('negative-prompt');
    const imageSizeSelect = document.getElementById('image-size');
    const batchSizeInput = document.getElementById('batch-size');
    const stepsInput = document.getElementById('steps');
    const stepsValue = document.getElementById('steps-value');
    const guidanceInput = document.getElementById('guidance');
    const guidanceValue = document.getElementById('guidance-value');
    const seedInput = document.getElementById('seed');
    const generateBtn = document.getElementById('generate-btn');
    const loadingContainer = document.getElementById('loading-container');
    const galleryElement = document.getElementById('image-gallery');
    const toast = document.getElementById('toast');
    
    // 显示提示消息
    function showToast(message, type = 'info') {
      toast.textContent = message;
      toast.className = `toast ${type}`;
      toast.classList.add('show');
      
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }
    
    stepsInput.addEventListener('input', () => {
      stepsValue.textContent = stepsInput.value;
    });
    
    guidanceInput.addEventListener('input', () => {
      guidanceValue.textContent = guidanceInput.value;
    });
    
    generateBtn.addEventListener('click', async () => {
      const prompt = promptInput.value.trim();
      if (!prompt) {
        showToast('请输入描述文字', 'error');
        return;
      }
      
      loadingContainer.style.display = 'flex';
      generateBtn.disabled = true;
      
      try {
        const requestData = {
          model: "Kwai-Kolors/Kolors",
          prompt: prompt,
          negative_prompt: negativePromptInput.value.trim(),
          image_size: imageSizeSelect.value,
          batch_size: parseInt(batchSizeInput.value),
          num_inference_steps: parseInt(stepsInput.value),
          guidance_scale: parseFloat(guidanceInput.value)
        };
        
        if (seedInput.value.trim()) {
          requestData.seed = parseInt(seedInput.value);
        }
        
        const API_KEY = 'sk-ruzmbpljfnifignspnnrudwttlfmeonmdvmjfmlehuggvxld';
        
        const response = await fetch('https://api.siliconflow.cn/v1/images/generations', {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${API_KEY}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(requestData)
        });
        
        if (!response.ok) {
          throw new Error(`请求失败: ${response.status}`);
        }
        
        const data = await response.json();
        
        if (data.images && data.images.length > 0) {
          // 清空占位消息
          if (galleryElement.querySelector('.placeholder-message')) {
            galleryElement.innerHTML = '';
          }
          
          data.images.forEach(image => {
            const imageCard = document.createElement('div');
            imageCard.className = 'generated-image-container';
            
            const img = document.createElement('img');
            img.src = image.url;
            img.alt = prompt;
            img.style.width = '100%';
            img.style.display = 'block';
            
            const imageInfo = document.createElement('div');
            imageInfo.className = 'image-info';
            
            const promptText = document.createElement('p');
            promptText.className = 'image-prompt';
            promptText.textContent = `"${prompt}"`;
            
            const metadataText = document.createElement('div');
            metadataText.className = 'image-metadata';
            metadataText.innerHTML = `<span><i class="fas fa-paint-brush"></i> Kolors模型</span>`;
            
            const actionButtons = document.createElement('div');
            actionButtons.className = 'image-actions';
            
            const downloadBtn = document.createElement('button');
            downloadBtn.className = 'image-action-btn';
            downloadBtn.innerHTML = '<i class="fas fa-download"></i> 下载图像';
            downloadBtn.addEventListener('click', () => {
              const link = document.createElement('a');
              link.href = image.url;
              link.download = `image_${Date.now()}.png`;
              link.click();
              showToast('图像下载中...', 'success');
            });
            
            const shareBtn = document.createElement('button');
            shareBtn.className = 'image-action-btn';
            shareBtn.innerHTML = '<i class="fas fa-share-alt"></i> 分享图像';
            shareBtn.addEventListener('click', () => {
              showToast('分享功能开发中...', 'info');
            });
            
            actionButtons.appendChild(downloadBtn);
            actionButtons.appendChild(shareBtn);
            
            imageInfo.appendChild(promptText);
            imageInfo.appendChild(metadataText);
            imageInfo.appendChild(actionButtons);
            
            imageCard.appendChild(img);
            imageCard.appendChild(imageInfo);
            
            galleryElement.prepend(imageCard);
          });
          
          showToast('图像生成成功！', 'success');
        }
      } catch (error) {
        console.error('生成图像时出错:', error);
        showToast(`生成图像时出错: ${error.message}`, 'error');
      } finally {
        loadingContainer.style.display = 'none';
        generateBtn.disabled = false;
      }
    });
  </script>
  
  <script nomodule>!function(){var e=document,t=e.createElement("script");if(!("noModule"in t)&&"onbeforeload"in t){var n=!1;e.addEventListener("beforeload",(function(e){if(e.target===t)n=!0;else if(!e.target.hasAttribute("nomodule")||!n)return;e.preventDefault()}),!0),t.type="module",t.src=".",e.head.appendChild(t),t.remove()}}();</script>
  <script nomodule crossorigin id="vite-legacy-polyfill" src="/assets/polyfills-legacy-Dqn0fKRy.js"></script>
  <script nomodule crossorigin id="vite-legacy-entry" data-src="/assets/image-legacy-CUcn2Hqq.js">System.import(document.getElementById('vite-legacy-entry').getAttribute('data-src'))</script>
</body>
</html>