<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人博客 - Windows 效率桌面 (云舒雅白)</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for better Windows-like icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    
   <!-- External CSS -->
   <link rel="stylesheet" href="styles/main.css">
   <link rel="stylesheet" href="styles/2048.css">
   <link rel="stylesheet" href="styles/snake.css">
</head>
<body class="h-screen w-screen relative">

    <!-- 1. 桌面容器 (Desktop) -->
    <div id="desktop" class="w-full h-[calc(100vh-48px)] relative">
        <!-- 桌面图标 -->
        <div id="desktop-icons" class="p-4 flex flex-col items-start space-y-4">
            <div class="desktop-icon" onclick="toggleWindow('blog-main')">
                <i class="fas fa-book-open text-3xl text-white"></i>
                <span class="mt-1">博客</span>
            </div>
            <div class="desktop-icon" onclick="toggleWindow('projects-explorer')">
                <i class="fas fa-folder text-3xl text-white"></i>
                <span class="mt-1">项目</span>
            </div>
            <div class="desktop-icon" onclick="toggleWindow('about-me')">
                <i class="fas fa-user-circle text-3xl text-white"></i>
                <span class="mt-1">关于我</span>
            </div>
            <div class="desktop-icon" onclick="toggleWindow('notepad-app')">
                <i class="fas fa-file-alt text-3xl text-white"></i>
                <span class="mt-1">记事本</span>
            </div>
            <div class="desktop-icon" onclick="toggleWindow('calculator-app')">
                <i class="fas fa-calculator text-3xl text-white"></i>
                <span class="mt-1">计算器</span>
            </div>
            <div class="desktop-icon" onclick="toggleWindow('game-2048-app')">
                <i class="fas fa-gamepad text-3xl text-white"></i>
                <span class="mt-1">2048</span>
            </div>
            <div class="desktop-icon" onclick="toggleWindow('game-snake-app')">
                <i class="fas fa-dragon text-3xl text-white"></i>
                <span class="mt-1">贪吃蛇</span>
            </div>
        </div>
        <!-- 窗口将在这里生成和管理 -->
    </div>

    <!-- 2. 任务栏 (Taskbar - 低认知负荷切换) -->
    <div id="taskbar" class="fixed bottom-0 left-0 right-0 h-12 bg-white shadow-soft-win flex items-center justify-between px-2 border-t border-gray-100/50 z-20">
        
        <!-- 左侧：Start Button 和 Quick Launch -->
        <div class="flex h-full items-center space-x-1">
            <!-- Start Button (Windows Style) -->
            <button onclick="toggleStartMenu()" class="h-10 w-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition duration-150 relative" aria-label="开始菜单">
                <svg class="w-5 h-5 text-gray-700" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M4 4h7v7H4V4zm9 0h7v7h-7V4zM4 13h7v7H4v-7zm9 0h7v7h-7v-7z"/></svg>
            </button>

            <!-- Quick Launch Items -->
            <button id="task-blog-main-btn" onclick="toggleWindow('blog-main')" class="taskbar-item h-10 px-3 flex items-center space-x-2 text-gray-700 hover:bg-gray-100 transition duration-150 rounded-lg">
                <i class="fas fa-book-open text-sm"></i>
                <span class="text-sm hidden sm:inline">博客</span>
            </button>
            <button id="task-projects-explorer-btn" onclick="toggleWindow('projects-explorer')" class="taskbar-item h-10 px-3 flex items-center space-x-2 text-gray-700 hover:bg-gray-100 transition duration-150 rounded-lg">
                <i class="fas fa-folder text-sm"></i>
                <span class="text-sm hidden sm:inline">项目</span>
            </button>
            <button id="task-about-me-btn" onclick="toggleWindow('about-me')" class="taskbar-item h-10 px-3 flex items-center space-x-2 text-gray-700 hover:bg-gray-100 transition duration-150 rounded-lg">
                <i class="fas fa-user-circle text-sm"></i>
                <span class="text-sm hidden sm:inline">关于</span>
            </button>
        </div>

        <!-- Start Menu Mockup -->
        <div id="start-menu" class="absolute bottom-12 left-2 w-64 bg-white rounded-lg shadow-soft-win p-3 hidden border border-gray-100/50">
            <p class="text-xs font-semibold text-gray-400 mb-2">常用应用</p>
            <ul class="space-y-1">
                <li class="p-2 text-sm text-gray-700 hover:bg-gray-100 rounded cursor-pointer" onclick="toggleWindow('blog-main'); hideStartMenu();">
                    <i class="fas fa-book-open w-4 mr-2"></i> 博客主页
                </li>
                <li class="p-2 text-sm text-gray-700 hover:bg-gray-100 rounded cursor-pointer" onclick="toggleWindow('projects-explorer'); hideStartMenu();">
                    <i class="fas fa-folder w-4 mr-2"></i> 文件资源管理器
                </li>
                <li class="p-2 text-sm text-gray-700 hover:bg-gray-100 rounded cursor-pointer" onclick="showDraftModal(); hideStartMenu();">
                    <i class="fas fa-save w-4 mr-2"></i> 保存所有
                </li>
            </ul>
        </div>
        
        <!-- 右侧：System Tray (低认知负荷) -->
        <div class="flex h-full items-center space-x-1 text-sm text-gray-600">
            <button onclick="showDraftModal()" class="h-10 px-3 flex items-center hover:bg-gray-100 rounded-lg" aria-label="通知">
                <i class="fas fa-bell text-gray-500 text-sm"></i>
            </button>
            <div class="h-10 px-3 flex items-center rounded-lg bg-gray-50 border border-gray-100">
                <span id="current-time">12:00 PM</span>
            </div>
        </div>
    </div>

    <!-- 3. 窗口容器 (多任务环境下的“容器感”) -->

    <!-- 3.1 博客主页窗口 (默认打开，居中) -->
    <div id="blog-main" class="window shadow-soft-win bg-white rounded-xl overflow-hidden">
        <!-- 窗口头部 (Drag Handle - Windows Title Bar) -->
        <div class="window-header h-10 flex justify-between items-center border-b border-gray-100 cursor-move bg-gray-50/50">
            <h2 class="text-sm font-light text-gray-700 ml-3">
                <i class="fas fa-book-open text-xs mr-2 text-gray-500"></i> 个人博客 / 主页
            </h2>
            <div class="flex h-full">
                <button onclick="minimizeWindow('blog-main')" class="win-btn" aria-label="最小化">
                    <i class="fas fa-window-minimize text-xs"></i>
                </button>
                <button onclick="resizeWindow('blog-main')" class="win-btn" aria-label="调整大小">
                    <i class="far fa-square text-xs"></i>
                </button>
                <button onclick="closeWindow('blog-main')" class="win-btn close-btn" aria-label="关闭">
                    <i class="fas fa-times text-sm"></i>
                </button>
            </div>
        </div>
        <!-- 窗口内容 (新增侧边栏) -->
        <div class="flex h-[calc(100%-40px)]">
            
            <!-- 侧边栏：关于我/导航 (云舒雅白 Sidebar - 亲肤肌理) -->
            <div class="w-1/4 p-4 border-r border-gray-100 bg-gray-50/50 overflow-y-auto">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 rounded-full bg-white border-4 border-gray-100 shadow-sm mx-auto flex items-center justify-center text-xl text-gray-600 mb-2">
                        云
                    </div>
                    <h3 class="text-md font-semibold text-gray-800">设计师：云与光</h3>
                    <p class="text-xs text-gray-500">UX/UI & 前端爱好者</p>
                </div>

                <div class="space-y-4">
                    <div class="p-3 bg-white rounded-lg shadow-sm border border-gray-100/50">
                        <p class="text-xs text-gray-500 mb-1">状态</p>
                        <p class="text-sm text-gray-700 font-medium">✨ 专注于流线形态设计</p>
                    </div>
                    
                    <ul class="text-sm space-y-1">
                        <li class="p-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg cursor-pointer">
                            <i class="fas fa-home mr-2 w-4"></i> 首页
                        </li>
                        <li onclick="toggleWindow('projects-explorer')" class="p-2 text-gray-500 hover:bg-gray-100 rounded-lg cursor-pointer">
                            <i class="fas fa-folder-open mr-2 w-4"></i> 我的项目
                        </li>
                        <li onclick="toggleWindow('about-me')" class="p-2 text-gray-500 hover:bg-gray-100 rounded-lg cursor-pointer">
                            <i class="fas fa-user mr-2 w-4"></i> 详细介绍
                        </li>
                    </ul>
                </div>
            </div>

            <!-- 主内容区域 -->
            <div class="w-3/4 p-6 overflow-y-auto window-content">
                
                <!-- 路径导航 -->
                <div class="text-xs text-gray-400 mb-6 border-b pb-2">
                    <span class="hover:text-gray-600 cursor-pointer">C:\Blog</span> > <span class="text-gray-600">最新文章</span>
                </div>

                <h1 class="text-2xl font-light text-gray-800 mb-6">
                    流线形态的数字诗歌
                </h1>

                <!-- 博客文章列表 -->
                <div class="space-y-6">
                    <!-- 文章 1: 亲肤肌理 -->
                    <article class="p-4 bg-gray-50 rounded-lg hover:bg-white transition duration-300 shadow-sm border border-gray-100/50 cursor-pointer">
                        <h3 class="text-lg font-medium text-gray-700 mb-1">关于纯粹色彩与失重触感的思考</h3>
                        <p class="text-sm text-gray-500 line-clamp-2">
                            探究如何通过极简的白色调和柔和的曲线，在数字界面中营造出一种“有温度、有生命的雅致”。
                        </p>
                        <div class="text-xs text-gray-400 mt-2 flex justify-between">
                            <span>设计哲学 / 雅致</span>
                            <span class="text-gray-500">2024-07-28</span>
                        </div>
                    </article>

                    <!-- 文章 2: 效率模型 -->
                    <article class="p-4 bg-gray-50 rounded-lg hover:bg-white transition duration-300 shadow-sm border border-gray-100/50 cursor-pointer">
                        <h3 class="text-lg font-medium text-gray-700 mb-1">桌面效率模型的心理学基础</h3>
                        <p class="text-sm text-gray-500 line-clamp-2">
                            分析状态持久性、直接操作因果性如何降低认知负荷，实现任务回顾与恢复的瞬间性。
                        </p>
                        <div class="text-xs text-gray-400 mt-2 flex justify-between">
                            <span>UX/效率 / Windows</span>
                            <span class="text-gray-500">2024-07-20</span>
                        </div>
                    </article>
                    
                    <!-- 文章 3: 动态延展 -->
                    <article class="p-4 bg-gray-50 rounded-lg hover:bg-white transition duration-300 shadow-sm border border-gray-100/50 cursor-pointer">
                        <h3 class="text-lg font-medium text-gray-700 mb-1">动态延展：CSS与弹性设计</h3>
                        <p class="text-sm text-gray-500 line-clamp-2">
                            探讨如何利用现代CSS属性，模拟材质的弹性与包裹感，创建有生命的界面。
                        </p>
                        <div class="text-xs text-gray-400 mt-2 flex justify-between">
                            <span>前端技术 / CSS</span>
                            <span class="text-gray-500">2024-07-15</span>
                        </div>
                    </article>
                </div>
            </div>
        </div>
        <!-- 调整大小句柄 -->
        <div class="resizer" onmousedown="initResize(event, 'blog-main')"></div>
    </div>

    <!-- 3.2 项目/文件资源管理器窗口 -->
    <div id="projects-explorer" class="window shadow-soft-win bg-white rounded-xl overflow-hidden hidden">
        <!-- 窗口头部 -->
        <div class="window-header h-10 flex justify-between items-center border-b border-gray-100 cursor-move bg-gray-50/50">
            <h2 class="text-sm font-light text-gray-700 ml-3">
                <i class="fas fa-folder text-xs mr-2 text-gray-500"></i> 文件资源管理器 / Projects
            </h2>
            <div class="flex h-full">
                <button onclick="minimizeWindow('projects-explorer')" class="win-btn" aria-label="最小化"><i class="fas fa-window-minimize text-xs"></i></button>
                <button onclick="resizeWindow('projects-explorer')" class="win-btn" aria-label="调整大小"><i class="far fa-square text-xs"></i></button>
                <button onclick="closeWindow('projects-explorer')" class="win-btn close-btn" aria-label="关闭"><i class="fas fa-times text-sm"></i></button>
            </div>
        </div>
        <!-- 窗口内容 -->
        <div id="projects-app-content" class="window-content bg-white flex flex-col h-[calc(100%-40px)]">
            <!-- Directory View -->
            <div id="directory-view" class="flex-grow p-4 overflow-y-auto space-y-2">
                <!-- File list will be dynamically inserted here by projects.js -->
            </div>

            <!-- Editor View (Initially Hidden) -->
            <div id="editor-view" class="bg-gray-100 flex flex-col h-full hidden">
                <!-- Toolbar -->
                <div class="toolbar bg-gray-200 p-1 flex items-center border-b border-gray-300">
                    <button id="back-to-dir-btn" class="px-2 py-1 text-sm hover:bg-gray-300 rounded"><i class="fas fa-arrow-left mr-1"></i> Back</button>
                    <button id="new-file-btn" class="px-2 py-1 text-sm hover:bg-gray-300 rounded ml-2"><i class="fas fa-file-plus mr-1"></i> New</button>
                    <button id="save-file-btn" class="px-2 py-1 text-sm hover:bg-gray-300 rounded ml-1"><i class="fas fa-save mr-1"></i> Save</button>
                    <button id="delete-file-btn" class="px-2 py-1 text-sm hover:bg-red-400 hover:text-white rounded ml-auto"><i class="fas fa-trash-alt mr-1"></i> Delete</button>
                </div>
                <!-- Main Content -->
                <div class="flex flex-grow overflow-hidden">
                    <!-- File List -->
                    <div id="file-list-panel" class="w-1/3 border-r border-gray-300 bg-white p-2 overflow-y-auto">
                        <!-- File items will be dynamically inserted here -->
                    </div>
                    <!-- Editor -->
                    <div id="editor-panel" class="w-2/3 flex flex-col hidden">
                        <input type="text" id="file-name-input" class="p-2 border-b border-gray-300 text-sm" placeholder="Enter filename (.txt or .md)">
                        <textarea id="file-content-textarea" class="flex-grow p-2 w-full h-full resize-none text-sm" placeholder="File content..."></textarea>
                    </div>
                    <div id="no-file-selected" class="w-2/3 flex items-center justify-center text-gray-500">
                        <p>Select a file to view or create a new one.</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- 调整大小句柄 -->
        <div class="resizer" onmousedown="initResize(event, 'projects-explorer')"></div>
    </div>


    <!-- 3.3 详细介绍窗口 -->
    <div id="about-me" class="window shadow-soft-win bg-white rounded-xl overflow-hidden hidden">
        <!-- 窗口头部 -->
        <div class="window-header h-10 flex justify-between items-center border-b border-gray-100 cursor-move bg-gray-50/50">
            <h2 class="text-sm font-light text-gray-700 ml-3">
                <i class="fas fa-user-circle text-xs mr-2 text-gray-500"></i> 详细介绍
            </h2>
            <div class="flex h-full">
                <button onclick="minimizeWindow('about-me')" class="win-btn" aria-label="最小化"><i class="fas fa-window-minimize text-xs"></i></button>
                <button onclick="resizeWindow('about-me')" class="win-btn" aria-label="调整大小"><i class="far fa-square text-xs"></i></button>
                <button onclick="closeWindow('about-me')" class="win-btn close-btn" aria-label="关闭"><i class="fas fa-times text-sm"></i></button>
            </div>
        </div>
        <!-- 窗口内容 -->
        <div class="window-content p-6 h-[calc(100%-40px)] overflow-y-auto text-gray-600">
            <h4 class="text-lg font-semibold mb-3 text-gray-700">我的理念</h4>
            <p class="mb-4 text-sm leading-relaxed border-l-2 border-gray-200 pl-3">
                “云舒雅白”并非极简，而是一种有温度、有生命的雅致。我致力于创造低认知中断的界面，让用户在纯白的世界里，找到最舒展、最宁静的自己。
            </p>
            
            <h4 class="text-lg font-semibold mt-6 mb-3 text-gray-700">联系我</h4>
            <div class="flex space-x-4">
                <a href="#" class="text-sm text-blue-500 hover:text-blue-700 transition duration-200"><i class="fab fa-twitter mr-1"></i> Twitter</a>
                <a href="#" class="text-sm text-gray-700 hover:text-gray-900 transition duration-200"><i class="fab fa-github mr-1"></i> GitHub</a>
            </div>
        </div>
        <!-- 调整大小句柄 -->
        <div class="resizer" onmousedown="initResize(event, 'about-me')"></div>
    </div>


    <!-- 3.4 记事本窗口 -->
    <div id="notepad-app" class="window shadow-soft-win bg-white rounded-xl overflow-hidden hidden">
        <!-- 窗口头部 -->
        <div class="window-header h-10 flex justify-between items-center border-b border-gray-100 cursor-move bg-gray-50/50">
            <h2 class="text-sm font-light text-gray-700 ml-3">
                <i class="fas fa-file-alt text-xs mr-2 text-gray-500"></i> 记事本
            </h2>
            <div class="flex h-full">
                <button onclick="minimizeWindow('notepad-app')" class="win-btn" aria-label="最小化"><i class="fas fa-window-minimize text-xs"></i></button>
                <button onclick="resizeWindow('notepad-app')" class="win-btn" aria-label="调整大小"><i class="far fa-square text-xs"></i></button>
                <button onclick="closeWindow('notepad-app')" class="win-btn close-btn" aria-label="关闭"><i class="fas fa-times text-sm"></i></button>
            </div>
        </div>
        <!-- 窗口内容 -->
        <div class="window-content h-[calc(100%-40px)]">
            <textarea class="w-full h-full border-0 resize-none p-2 text-sm" placeholder="在这里输入..."></textarea>
        </div>
        <!-- 调整大小句柄 -->
        <div class="resizer" onmousedown="initResize(event, 'notepad-app')"></div>
    </div>

    <!-- 3.5 计算器窗口 -->
    <div id="calculator-app" class="window shadow-soft-win bg-white rounded-xl overflow-hidden hidden">
        <!-- 窗口头部 -->
        <div class="window-header h-10 flex justify-between items-center border-b border-gray-100 cursor-move bg-gray-50/50">
            <h2 class="text-sm font-light text-gray-700 ml-3">
                <i class="fas fa-calculator text-xs mr-2 text-gray-500"></i> 计算器
            </h2>
            <div class="flex h-full">
                <button onclick="minimizeWindow('calculator-app')" class="win-btn" aria-label="最小化"><i class="fas fa-window-minimize text-xs"></i></button>
                <button onclick="resizeWindow('calculator-app')" class="win-btn" aria-label="调整大小"><i class="far fa-square text-xs"></i></button>
                <button onclick="closeWindow('calculator-app')" class="win-btn close-btn" aria-label="关闭"><i class="fas fa-times text-sm"></i></button>
            </div>
        </div>
        <!-- 窗口内容 -->
        <div class="window-content p-2 h-[calc(100%-40px)] bg-gray-100 flex flex-col">
            <div id="calc-display" class="w-full h-20 bg-gray-200 rounded-lg mb-2 text-4xl font-light text-right pr-4 flex items-center justify-end">0</div>
            <div class="calculator-grid flex-grow grid grid-cols-4 gap-2">
                <button class="calc-btn bg-gray-300">AC</button>
                <button class="calc-btn bg-gray-300">+/-</button>
                <button class="calc-btn bg-gray-300">%</button>
                <button class="calc-btn bg-yellow-500 text-white">÷</button>
                <button class="calc-btn">7</button>
                <button class="calc-btn">8</button>
                <button class="calc-btn">9</button>
                <button class="calc-btn bg-yellow-500 text-white">×</button>
                <button class="calc-btn">4</button>
                <button class="calc-btn">5</button>
                <button class="calc-btn">6</button>
                <button class="calc-btn bg-yellow-500 text-white">-</button>
                <button class="calc-btn">1</button>
                <button class="calc-btn">2</button>
                <button class="calc-btn">3</button>
                <button class="calc-btn bg-yellow-500 text-white">+</button>
                <button class="calc-btn col-span-2">0</button>
                <button class="calc-btn">.</button>
                <button class="calc-btn bg-yellow-500 text-white">=</button>
            </div>
        </div>
        <!-- 调整大小句柄 -->
        <div class="resizer" onmousedown="initResize(event, 'calculator-app')"></div>
    </div>


    <!-- 3.6 2048 游戏窗口 -->
    <div id="game-2048-app" class="window shadow-soft-win bg-white rounded-xl overflow-hidden hidden">
        <!-- 窗口头部 -->
        <div class="window-header h-10 flex justify-between items-center border-b border-gray-100 cursor-move bg-gray-50/50">
            <h2 class="text-sm font-light text-gray-700 ml-3">
                <i class="fas fa-gamepad text-xs mr-2 text-gray-500"></i> 2048
            </h2>
            <div class="flex h-full">
                <button onclick="minimizeWindow('game-2048-app')" class="win-btn" aria-label="最小化"><i class="fas fa-window-minimize text-xs"></i></button>
                <button onclick="resizeWindow('game-2048-app')" class="win-btn" aria-label="调整大小"><i class="far fa-square text-xs"></i></button>
                <button onclick="closeWindow('game-2048-app')" class="win-btn close-btn" aria-label="关闭"><i class="fas fa-times text-sm"></i></button>
            </div>
        </div>
        <!-- 窗口内容 -->
        <div class="window-content h-[calc(100%-40px)]">
            <div class="game-2048-content">
                <div class="header-2048">
                    <h1 class="title-2048">2048</h1>
                    <div class="flex space-x-2">
                        <div class="score-container">
                            <span class="label">SCORE</span>
                            <span class="score">0</span>
                        </div>
                        <div class="new-game-container">
                            <button class="new-game-btn">New Game</button>
                        </div>
                    </div>
                </div>
                <div class="grid-container"></div>
                <!-- Game Over Modal -->
                <div class="game-2048-modal-overlay hidden">
                    <div class="game-2048-modal-content">
                        <h3 class="text-xl font-bold mb-2">Game Over!</h3>
                        <p class="mb-4">Your final score: <span id="final-score-2048">0</span></p>
                        <button class="play-again-btn-2048">Try Again</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- 调整大小句柄 -->
        <div class="resizer" onmousedown="initResize(event, 'game-2048-app')"></div>
    </div>

    <!-- 3.7 贪吃蛇 游戏窗口 -->
    <div id="game-snake-app" class="window shadow-soft-win bg-white rounded-xl overflow-hidden hidden">
        <!-- 窗口头部 -->
        <div class="window-header h-10 flex justify-between items-center border-b border-gray-100 cursor-move bg-gray-50/50">
            <h2 class="text-sm font-light text-gray-700 ml-3">
                <i class="fas fa-dragon text-xs mr-2 text-gray-500"></i> 贪吃蛇
            </h2>
            <div class="flex h-full">
                <button onclick="minimizeWindow('game-snake-app')" class="win-btn" aria-label="最小化"><i class="fas fa-window-minimize text-xs"></i></button>
                <button onclick="resizeWindow('game-snake-app')" class="win-btn" aria-label="调整大小"><i class="far fa-square text-xs"></i></button>
                <button onclick="closeWindow('game-snake-app')" class="win-btn close-btn" aria-label="关闭"><i class="fas fa-times text-sm"></i></button>
            </div>
        </div>
        <!-- 窗口内容 -->
        <div class="window-content h-[calc(100%-40px)]">
            <div class="game-snake-content">
                <div class="header-snake">
                    <div class="score-container-snake">
                        <span class="label">SCORE: </span>
                        <span class="score">0</span>
                    </div>
                    <button class="new-game-btn-snake">New Game</button>
                </div>
                <canvas id="snake-canvas" width="400" height="400"></canvas>
                
                <!-- Game Over Modal -->
                <div class="snake-modal-overlay hidden">
                    <div class="snake-modal-content">
                        <h3 class="text-xl font-bold mb-2">Game Over!</h3>
                        <p class="mb-4">Your score: <span id="final-score-snake">0</span></p>
                        <button class="play-again-btn-snake">Play Again</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- 调整大小句柄 -->
        <div class="resizer" onmousedown="initResize(event, 'game-snake-app')"></div>
    </div>


    <!-- 4. 模态对话框 (Mandatory Modal Resolution Mechanism) -->
    <div id="draft-modal" class="modal-overlay fixed inset-0 hidden items-center justify-center">
        <div class="bg-white rounded-xl p-8 w-96 shadow-soft-win border border-gray-100/50">
            
            <div class="flex items-center space-x-3 mb-6">
                <i class="fas fa-exclamation-triangle w-6 h-6 text-yellow-600"></i>
                <h3 class="text-xl font-semibold text-gray-700">系统中断：未保存的修改</h3>
            </div>
            
            <p class="text-gray-600 mb-8 text-sm">
                当前工作区存在未保存的修改。为了确保**关键决策的完整性**，系统已暂停后台操作，请立即处理。
            </p>
            
            <div class="flex justify-end space-x-3">
                <button onclick="hideDraftModal()" class="px-4 py-2 text-sm text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition duration-200">
                    稍后处理 (舍弃)
                </button>
                <button onclick="alert('数据已同步到云端！'); hideDraftModal();" class="px-4 py-2 text-sm text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition duration-200">
                    立即保存并同步
                </button>
            </div>
        </div>
    </div>

    <!-- 5. Custom Alert/Confirm Modal -->
    <div id="custom-modal-overlay" class="modal-overlay fixed inset-0 hidden flex items-center justify-center">
        <div id="custom-modal" class="bg-white rounded-xl p-6 w-96 shadow-soft-win border border-gray-100/50">
            <h3 id="custom-modal-title" class="text-lg font-semibold text-gray-700 mb-4">System Message</h3>
            <p id="custom-modal-message" class="text-gray-600 mb-6 text-sm"></p>
            <div id="custom-modal-buttons" class="flex justify-end space-x-3">
                <!-- Buttons are injected by JS -->
            </div>
        </div>
    </div>

    <!-- External JavaScript -->
    <script src="js/main.js"></script>
    <script src="js/projects.js"></script>
    <script src="js/calculator.js"></script>
    <script src="js/2048.js"></script>
    <script src="js/snake.js"></script>
</body>
</html>